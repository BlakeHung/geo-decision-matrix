services:
  geo-ai:
    build: .
    container_name: geo_decision_matrix
    volumes:
      - .:/app
    ports:
      - "9090:8000"  # 使用 9090 端口，避免衝突
    extra_hosts:
      - "host.docker.internal:host-gateway"
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              count: all
              capabilities: [gpu]
    command: tail -f /dev/null